-- Initialize counters
local dynamicCounterVisitCount = 0

-- Function to read the visit count for the dynamicCounter page
local function readDynamicCounterVisitCount()
    local file = fs.open("dynamicCounterVisitCount.txt", "r")
    if file then
        dynamicCounterVisitCount = tonumber(file.readAll()) or 0
        file.close()
    end
end

-- Function to save the visit count for the dynamicCounter page
local function saveDynamicCounterVisitCount()
    local file = fs.open("dynamicCounterVisitCount.txt", "w")
    file.write(tostring(dynamicCounterVisitCount))
    file.close()
end

-- Read the visit counts when the server starts
readDynamicCounterVisitCount()

function getDynamicLine(name, page)
    if name == "visitCount" then
        -- DynamicCounter page visit counter
        dynamicCounterVisitCount = dynamicCounterVisitCount + 1
        saveDynamicCounterVisitCount()
        return "^f2This page has been visited " .. dynamicCounterVisitCount .. " times."
    end
    return ""
end
